{"version":3,"sources":["Components/Balance/Balance.module.css","Components/Dashboard.module.css","Components/Utils/transactionType.jsx","Components/Controls/Controls.jsx","Components/Balance/Balance.jsx","Components/Dashboard.jsx","index.js","Components/Controls/Controls.module.css"],"names":["module","exports","transactionType","deposit","withdraw","Controls","transaction","addTransaction","handleSubmitTransaction","className","styles","controls","input","type","name","value","onChange","controlBtn","onClick","Balance","allDeposits","allWithdraws","balance","Dashboard","state","transactions","e","setState","target","addToLocalStorage","localStorage","setItem","JSON","stringify","notify","notice","toast","preventDefault","date","Date","options","year","month","timezone","hour","minute","second","newTransaction","id","shortid","generate","amount","toLocaleString","prevState","Number","history","getItem","historyUnparsed","parse","this","column","map","row","key","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2c0d1f51.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__16211\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"Dashboard_history__3JJZa\",\"column\":\"Dashboard_column__19_fj\",\"row\":\"Dashboard_row__1pM3o\"};","const transactionType = {\n  deposit: 'Deposit',\n  withdraw: 'Withdraw',\n};\n\nexport default transactionType;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport transactionType from '../Utils/transactionType';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ transaction, addTransaction, handleSubmitTransaction }) => (\n  <section className={styles.controls}>\n    <input\n      className={styles.input}\n      type=\"number\"\n      name=\"transaction\"\n      value={transaction}\n      onChange={addTransaction}\n    />\n    <button\n      className={styles.controlBtn}\n      type=\"button\"\n      onClick={handleSubmitTransaction}\n      name={transactionType.deposit}\n    >\n      Deposit\n    </button>\n    <button\n      className={styles.controlBtn}\n      type=\"button\"\n      onClick={handleSubmitTransaction}\n      name={transactionType.withdraw}\n    >\n      Withdraw\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  transaction: PropTypes.string.isRequired,\n  addTransaction: PropTypes.func.isRequired,\n  handleSubmitTransaction: PropTypes.func.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Balance.module.css';\n\nconst Balance = ({ allDeposits, allWithdraws, balance }) => (\n  <section className={styles.balance}>\n    <span>⬆️{allDeposits} $</span>\n    <span>⬇️{allWithdraws} $</span>\n    <span>Balance: {balance} $</span>\n  </section>\n);\n\nBalance.propTypes = {\n  allDeposits: PropTypes.number.isRequired,\n  allWithdraws: PropTypes.number.isRequired,\n  balance: PropTypes.number.isRequired,\n};\n\nexport default Balance;\n","import React, { Component } from 'react';\nimport shortid from 'shortid';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Controls from './Controls/Controls';\nimport Balance from './Balance/Balance';\nimport 'react-toastify/dist/ReactToastify.css';\nimport styles from './Dashboard.module.css';\n\nexport default class Dashboard extends Component {\n  state = {\n    transactions: [],\n    transaction: '',\n    balance: 0,\n    allDeposits: 0,\n    allWithdraws: 0,\n  };\n\n  componentDidMount() {\n    const history = localStorage.getItem('history');\n    const historyUnparsed = JSON.parse(history);\n    if (history) {\n      this.setState({ ...historyUnparsed });\n    }\n  }\n\n  addTransaction = e => {\n    this.setState({ transaction: e.target.value });\n  };\n\n  addToLocalStorage = () =>\n    localStorage.setItem('history', JSON.stringify(this.state));\n\n  notify = notice => toast(notice);\n\n  handleSubmitTransaction = e => {\n    e.preventDefault();\n    const date = new Date();\n\n    const options = {\n      year: 'numeric',\n      month: 'long',\n      timezone: 'UTC',\n      hour: 'numeric',\n      minute: 'numeric',\n      second: 'numeric',\n    };\n    if (e.target.name === 'Deposit' && this.state.transaction > 0) {\n      const newTransaction = {\n        id: shortid.generate(),\n        amount: this.state.transaction,\n        type: e.target.name,\n        date: date.toLocaleString('en', options),\n      };\n      this.setState(\n        prevState => ({\n          transactions: [...prevState.transactions, newTransaction],\n          balance: prevState.balance + Number(newTransaction.amount),\n          allDeposits: prevState.allDeposits + Number(newTransaction.amount),\n          transaction: '',\n        }),\n        () => this.addToLocalStorage(),\n      );\n    } else if (this.state.transaction === '0') {\n      this.notify('Введите сумму для проведения операции!');\n    }\n\n    if (\n      e.target.name === 'Withdraw' &&\n      this.state.balance >= this.state.transaction &&\n      this.state.transaction > 0\n    ) {\n      const newTransaction = {\n        id: shortid.generate(),\n        amount: this.state.transaction,\n        type: e.target.name,\n        date: date.toLocaleString('en', options),\n      };\n      this.setState(\n        prevState => ({\n          transactions: [...prevState.transactions, newTransaction],\n          balance: prevState.balance - Number(newTransaction.amount),\n          allWithdraws: prevState.allWithdraws + Number(newTransaction.amount),\n          transaction: '',\n        }),\n        () => this.addToLocalStorage(),\n      );\n    } else if (\n      e.target.name === 'Withdraw' &&\n      this.state.balance <= this.state.transaction\n    ) {\n      this.notify('На счету недостаточно средств для проведения операции!');\n    }\n    // setTimeout(localStorage.setItem('history', JSON.stringify(this.state)), 2);\n  };\n\n  render() {\n    const { transaction, allDeposits, allWithdraws, balance } = this.state;\n    return (\n      <div className=\"dashboard\">\n        <Controls\n          transaction={transaction}\n          addTransaction={this.addTransaction}\n          handleSubmitTransaction={this.handleSubmitTransaction}\n        />\n        <Balance\n          allDeposits={allDeposits}\n          allWithdraws={allWithdraws}\n          balance={balance}\n        />\n\n        <ToastContainer />\n\n        <table className={styles.history}>\n          <thead>\n            <tr>\n              <th className={styles.column}>Transaction</th>\n              <th className={styles.column}>Amount</th>\n              <th className={styles.column}>Date</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.transactions.map(transaction => (\n              <tr className={styles.row} key={transaction.id}>\n                <td>{transaction.type}</td>\n                <td>{transaction.amount}$</td>\n                <td>{transaction.date}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Dashboard from './Components/Dashboard';\n\nReactDOM.render(<Dashboard />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__1QKDH\",\"controlBtn\":\"Controls_controlBtn__1AUaC\",\"input\":\"Controls_input__1fwfG\"};"],"sourceRoot":""}